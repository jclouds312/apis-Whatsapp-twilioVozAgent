{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///home/user/apis-Whatsapp-twilioVozAgent/src/firebase/config.ts"],"sourcesContent":["export const firebaseConfig = {\n  \"projectId\": \"studio-3652287884-786f3\",\n  \"appId\": \"1:634131812118:web:8c4241d7748b819252ca37\",\n  \"apiKey\": \"AIzaSyDrB3cCBQvJlgaS50Rd8JzlHO86pZWVHKU\",\n  \"authDomain\": \"studio-3652287884-786f3.firebaseapp.com\",\n  \"measurementId\": \"\",\n  \"messagingSenderId\": \"634131812118\"\n};\n"],"names":[],"mappings":";;;AAAO,MAAM,iBAAiB;IAC5B,aAAa;IACb,SAAS;IACT,UAAU;IACV,cAAc;IACd,iBAAiB;IACjB,qBAAqB;AACvB","debugId":null}},
    {"offset": {"line": 128, "column": 0}, "map": {"version":3,"sources":["file:///home/user/apis-Whatsapp-twilioVozAgent/src/app/dashboard/twilio/actions.ts"],"sourcesContent":["\n'use server';\n\nimport { collection, addDoc, serverTimestamp, getFirestore } from 'firebase/firestore';\nimport { initializeApp, getApps } from 'firebase/app';\nimport { firebaseConfig } from '@/firebase/config';\n\n// Initialize Firebase Admin if not already initialized\nif (!getApps().length) {\n    initializeApp(firebaseConfig);\n}\n\nconst db = getFirestore();\n\nasync function logVerificationAttempt(\n    phoneNumber: string,\n    success: boolean,\n    type: 'send' | 'verify'\n) {\n    try {\n        await addDoc(collection(db, 'apiLogs'), {\n            timestamp: new Date().toISOString(),\n            level: success ? 'info' : 'error',\n            endpoint: 'Twilio Verify',\n            statusCode: success ? 200 : 400,\n            requestBody: JSON.stringify({ phoneNumber, type }),\n            responseBody: JSON.stringify({ success }),\n            apiKeyId: 'twilio_verify',\n        });\n    } catch (error) {\n        console.error('Failed to log verification attempt:', error);\n    }\n}\n\nexport async function sendVerificationCode(phoneNumber: string) {\n    try {\n        // Validar formato de número\n        if (!phoneNumber.startsWith('+')) {\n            return {\n                success: false,\n                message: 'Phone number must include country code (e.g., +1234567890)'\n            };\n        }\n\n        // Aquí se integraría con Twilio Verify API\n        // const accountSid = process.env.TWILIO_ACCOUNT_SID;\n        // const authToken = process.env.TWILIO_AUTH_TOKEN;\n        // const verifySid = process.env.TWILIO_VERIFY_SID;\n        \n        // Simulación de envío exitoso\n        await logVerificationAttempt(phoneNumber, true, 'send');\n        \n        return {\n            success: true,\n            message: `Verification code sent to ${phoneNumber}`\n        };\n    } catch (error) {\n        console.error('Error sending verification:', error);\n        await logVerificationAttempt(phoneNumber, false, 'send');\n        \n        return {\n            success: false,\n            message: 'Failed to send verification code'\n        };\n    }\n}\n\nexport async function verifyCode(phoneNumber: string, code: string) {\n    try {\n        // Validar código\n        if (code.length !== 6 || !/^\\d+$/.test(code)) {\n            return {\n                success: false,\n                message: 'Code must be 6 digits'\n            };\n        }\n\n        // Aquí se verificaría el código con Twilio Verify API\n        // const accountSid = process.env.TWILIO_ACCOUNT_SID;\n        // const authToken = process.env.TWILIO_AUTH_TOKEN;\n        // const verifySid = process.env.TWILIO_VERIFY_SID;\n        \n        // Simulación de verificación exitosa\n        await logVerificationAttempt(phoneNumber, true, 'verify');\n        \n        return {\n            success: true,\n            message: 'Phone number verified successfully'\n        };\n    } catch (error) {\n        console.error('Error verifying code:', error);\n        await logVerificationAttempt(phoneNumber, false, 'verify');\n        \n        return {\n            success: false,\n            message: 'Invalid verification code'\n        };\n    }\n}\n"],"names":[],"mappings":";;;;;;AAGA;AAAA;AACA;AAAA;AACA;;;;;;;AAEA,uDAAuD;AACvD,IAAI,CAAC,CAAA,GAAA,oLAAA,CAAA,UAAO,AAAD,IAAI,MAAM,EAAE;IACnB,CAAA,GAAA,oLAAA,CAAA,gBAAa,AAAD,EAAE,yHAAA,CAAA,iBAAc;AAChC;AAEA,MAAM,KAAK,CAAA,GAAA,iKAAA,CAAA,eAAY,AAAD;AAEtB,eAAe,uBACX,WAAmB,EACnB,OAAgB,EAChB,IAAuB;IAEvB,IAAI;QACA,MAAM,CAAA,GAAA,iKAAA,CAAA,SAAM,AAAD,EAAE,CAAA,GAAA,iKAAA,CAAA,aAAU,AAAD,EAAE,IAAI,YAAY;YACpC,WAAW,IAAI,OAAO,WAAW;YACjC,OAAO,UAAU,SAAS;YAC1B,UAAU;YACV,YAAY,UAAU,MAAM;YAC5B,aAAa,KAAK,SAAS,CAAC;gBAAE;gBAAa;YAAK;YAChD,cAAc,KAAK,SAAS,CAAC;gBAAE;YAAQ;YACvC,UAAU;QACd;IACJ,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,uCAAuC;IACzD;AACJ;AAEO,eAAe,qBAAqB,WAAmB;IAC1D,IAAI;QACA,4BAA4B;QAC5B,IAAI,CAAC,YAAY,UAAU,CAAC,MAAM;YAC9B,OAAO;gBACH,SAAS;gBACT,SAAS;YACb;QACJ;QAEA,2CAA2C;QAC3C,qDAAqD;QACrD,mDAAmD;QACnD,mDAAmD;QAEnD,8BAA8B;QAC9B,MAAM,uBAAuB,aAAa,MAAM;QAEhD,OAAO;YACH,SAAS;YACT,SAAS,CAAC,0BAA0B,EAAE,aAAa;QACvD;IACJ,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,+BAA+B;QAC7C,MAAM,uBAAuB,aAAa,OAAO;QAEjD,OAAO;YACH,SAAS;YACT,SAAS;QACb;IACJ;AACJ;AAEO,eAAe,WAAW,WAAmB,EAAE,IAAY;IAC9D,IAAI;QACA,iBAAiB;QACjB,IAAI,KAAK,MAAM,KAAK,KAAK,CAAC,QAAQ,IAAI,CAAC,OAAO;YAC1C,OAAO;gBACH,SAAS;gBACT,SAAS;YACb;QACJ;QAEA,sDAAsD;QACtD,qDAAqD;QACrD,mDAAmD;QACnD,mDAAmD;QAEnD,qCAAqC;QACrC,MAAM,uBAAuB,aAAa,MAAM;QAEhD,OAAO;YACH,SAAS;YACT,SAAS;QACb;IACJ,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,yBAAyB;QACvC,MAAM,uBAAuB,aAAa,OAAO;QAEjD,OAAO;YACH,SAAS;YACT,SAAS;QACb;IACJ;AACJ;;;IAhEsB;IAiCA;;AAjCA,+OAAA;AAiCA,+OAAA","debugId":null}},
    {"offset": {"line": 239, "column": 0}, "map": {"version":3,"sources":["file:///home/user/apis-Whatsapp-twilioVozAgent/.next-internal/server/app/dashboard/twilio/verify/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {sendVerificationCode as '40e6b51cfa00a34b671a8c0a2d3539d1a5984669e6'} from 'ACTIONS_MODULE0'\nexport {verifyCode as '60ecfbfb55e8763d2cfea44c4e022b9ee8cdeb4218'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 300, "column": 0}, "map": {"version":3,"sources":["file:///home/user/apis-Whatsapp-twilioVozAgent/src/app/dashboard/twilio/verify/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/dashboard/twilio/verify/page.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/dashboard/twilio/verify/page.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA4S,GACzU,0EACA","debugId":null}},
    {"offset": {"line": 314, "column": 0}, "map": {"version":3,"sources":["file:///home/user/apis-Whatsapp-twilioVozAgent/src/app/dashboard/twilio/verify/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/dashboard/twilio/verify/page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/dashboard/twilio/verify/page.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAwR,GACrT,sDACA","debugId":null}},
    {"offset": {"line": 328, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}}]
}